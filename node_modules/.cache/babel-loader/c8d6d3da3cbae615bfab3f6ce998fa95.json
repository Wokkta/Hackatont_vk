{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Hackatont_vk\\\\src\\\\panels\\\\Place.js\";\nimport React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport accounting from 'accounting'; // import PropTypes from 'prop-types';\n\nimport edit from \"../img/edit.svg\";\nimport './place.css';\n\nconst Place = ({\n  item,\n  order,\n  onIncrementPosition,\n  onDecrementPosition,\n  area\n}) => {\n  const price = useMemo(() => {\n    const foodIds = new Set((item.foods || []).map(item => item.id));\n    const result = Object.values(order).filter(value => {\n      const {\n        item: {\n          id\n        }\n      } = value;\n      return foodIds.has(id);\n    }).reduce((result, value) => {\n      const {\n        count,\n        item: {\n          price\n        }\n      } = value;\n      return result + parseInt(price) * parseInt(count);\n    }, 0);\n    return accounting.formatNumber(result, 0, ' ');\n  }, [order, item]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"Place__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"Place__trz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"Place__head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"Place__logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, area.name)), /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit\",\n    className: \"Place__change-tz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"change-profile\",\n    src: edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"Place__restoraunt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"Place__restoraunt-logo\",\n    alt: \"Fastfood logo\",\n    src: item.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"Place__restoraunt-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Place__restoraunt-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, item.description)), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Place__foods\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, item.foods.map(food => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"Place__food\",\n    key: food.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place__food-logo-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"food logo\",\n    className: \"Place__food-logo\",\n    src: food.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Place__food-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, food.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Place__food-composition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, food.composition), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place__food-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \".Place__food-price-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", food.price, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Place__food-button\",\n    onClick: () => {\n      onDecrementPosition({\n        id: food.id,\n        itemId: item.id,\n        areaId: area.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, \"\\xA0\", food.id in order ? order[food.id].count : 0, \"\\xA0\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Place__food-button\",\n    onClick: () => {\n      onIncrementPosition({\n        id: food.id,\n        itemId: item.id,\n        areaId: area.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"+\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n    className: \"Place__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/basket/${area.id}/${item.id}`,\n    className: \"Place__order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437 (\", price, \")\")));\n};\n\nPlace.defaultProps = {\n  item: {},\n  onIncrementPosition: () => {},\n  onDecrementPosition: () => {}\n};\nexport default Place;","map":{"version":3,"sources":["C:/Users/User/Desktop/Hackatont_vk/src/panels/Place.js"],"names":["React","useMemo","Link","accounting","Place","item","order","onIncrementPosition","onDecrementPosition","area","price","foodIds","Set","foods","map","id","result","Object","values","filter","value","has","reduce","count","parseInt","formatNumber","name","edit","image","description","food","composition","itemId","areaId","defaultProps"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport accounting from 'accounting';\r\n// import PropTypes from 'prop-types';\r\n\r\nimport edit from '../img/edit.svg';\r\nimport './place.css';\r\n\r\n\r\nconst Place = ({ item, order, onIncrementPosition, onDecrementPosition, area }) => {\r\n  const price = useMemo(() => {\r\n    const foodIds = new Set((item.foods || []).map(item => item.id));\r\n\r\n    const result = Object.values(order)\r\n      .filter((value) => {\r\n        const { item: { id }} = value;\r\n\r\n        return foodIds.has(id);\r\n      })\r\n      .reduce((result, value) => {\r\n        const { count, item: { price }} = value;\r\n\r\n        return result + parseInt(price) * parseInt(count);\r\n      }, 0);\r\n\r\n    return accounting.formatNumber(result, 0, ' ');\r\n  }, [ order, item ]);\r\n\r\n  return (\r\n    <div className=\"Place\">\r\n      <header className=\"Place__header\">\r\n        <aside className=\"Place__trz\">\r\n          <h1 className=\"Place__head\">\r\n            <Link to=\"/\" className=\"Place__logo\">\r\n              {area.name}\r\n            </Link>\r\n          </h1>\r\n          <Link to=\"/edit\" className=\"Place__change-tz\">\r\n          <img\r\n            alt=\"change-profile\"\r\n            src={edit}\r\n          />\r\n          </Link>\r\n        </aside>\r\n      </header>\r\n      <aside className=\"Place__restoraunt\">\r\n        <img\r\n          className=\"Place__restoraunt-logo\"\r\n          alt=\"Fastfood logo\"\r\n          src={item.image}\r\n        />\r\n        <h2\r\n          className=\"Place__restoraunt-name\"\r\n        >\r\n          {item.name}\r\n        </h2>\r\n        <p className=\"Place__restoraunt-type\">\r\n          {item.description}\r\n        </p>\r\n      </aside>\r\n      <ul className=\"Place__foods\">\r\n        {item.foods.map((food => (\r\n          <li\r\n            className=\"Place__food\"\r\n            key={food.id}\r\n          >\r\n            <div className=\"Place__food-logo-wrapper\">\r\n              <img\r\n                alt=\"food logo\"\r\n                className=\"Place__food-logo\"\r\n                src={food.image}\r\n              />\r\n            </div>\r\n            <h3 className=\"Place__food-name\">\r\n              {food.name}\r\n            </h3>\r\n            <p className=\"Place__food-composition\">\r\n              {food.composition}\r\n            </p>\r\n            <div className=\"Place__food-price\">\r\n              <span className=\".Place__food-price-price\">Цена: {food.price}&nbsp;&nbsp;</span>\r\n              <button\r\n                className=\"Place__food-button\"\r\n                onClick={() => {\r\n                  onDecrementPosition({ id: food.id, itemId: item.id, areaId: area.id });\r\n                }}\r\n              >\r\n                -\r\n              </button>\r\n              <span>&nbsp;{food.id in order ? order[food.id].count : 0}&nbsp;</span>\r\n              <button\r\n                className=\"Place__food-button\"\r\n                onClick={() => {\r\n                  onIncrementPosition({ id: food.id, itemId: item.id, areaId: area.id });\r\n                }}\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n          </li>\r\n        )))}\r\n      </ul>\r\n      <footer className=\"Place__footer\">\r\n      \r\n        <Link to={`/basket/${area.id}/${item.id}`} className=\"Place__order\">\r\n          Оформить заказ ({price})\r\n        </Link>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nPlace.defaultProps = {\r\n  item: {},\r\n  onIncrementPosition: () => {},\r\n  onDecrementPosition: () => {},\r\n};\r\n\r\nexport default Place;\r\n"]},"metadata":{},"sourceType":"module"}